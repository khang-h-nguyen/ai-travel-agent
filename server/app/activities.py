ACTIVITIES = {
    "toronto": {
        "culture": [
            "Visit the Royal Ontario Museum",
            "Explore the Art Gallery of Ontario",
            "See a show in the Entertainment District",
            "Tour Casa Loma castle",
            "Walk through the Distillery District"
        ],
        "food": [
            "Food tour in Kensington Market",
            "Dine in Chinatown",
            "Visit St. Lawrence Market",
            "Try diverse restaurants on Queen West",
            "Sample craft breweries in Liberty Village"
        ],
        "nature": [
            "Walk along the Toronto Islands",
            "Stroll through High Park",
            "Visit the Toronto Zoo",
            "Bike along the Waterfront Trail",
            "Explore the Scarborough Bluffs"
        ],
        "shopping": [
            "Shop at Eaton Centre",
            "Browse boutiques on Queen Street",
            "Explore Yorkville luxury shops",
            "Visit Kensington Market vintage stores",
            "Check out PATH underground shopping"
        ],
        "nightlife": [
            "Experience King Street West bars",
            "Club in the Entertainment District",
            "Live music on Queen Street",
            "Comedy show at Second City",
            "Rooftop bars with CN Tower views"
        ]
    },
    
    "vancouver": {
        "nature": [
            "Walk around Stanley Park Seawall",
            "Hike the Grouse Grind",
            "Visit Capilano Suspension Bridge",
            "Explore Lynn Canyon",
            "Kayak in False Creek"
        ],
        "food": [
            "Explore Granville Island Public Market",
            "Dine in Gastown",
            "Food tour in Richmond (Asian cuisine)",
            "Try fresh seafood at waterfront restaurants",
            "Visit craft breweries in Mount Pleasant"
        ],
        "culture": [
            "Visit Museum of Anthropology",
            "Explore Vancouver Art Gallery",
            "Walk through Gastown historic district",
            "Tour Chinatown",
            "See performance at Queen Elizabeth Theatre"
        ],
        "outdoor": [
            "Bike around Stanley Park",
            "Ski/snowboard at local mountains (winter)",
            "Paddleboard in English Bay",
            "Visit beaches (Kitsilano, English Bay)",
            "Hike in Pacific Spirit Park"
        ],
        "shopping": [
            "Browse Granville Island artisan shops",
            "Shop on Robson Street",
            "Explore boutiques on Main Street",
            "Visit Pacific Centre Mall",
            "Check out Gastown independent stores"
        ]
    },
    
    "montreal": {
        "culture": [
            "Explore Old Montreal",
            "Visit Notre-Dame Basilica",
            "Tour Pointe-à-Callière Museum",
            "See a show at Place des Arts",
            "Walk through Montreal Museum of Fine Arts"
        ],
        "food": [
            "Try authentic poutine",
            "Montreal-style bagels tour",
            "Visit Jean-Talon Market",
            "Dine on Rue Saint-Denis",
            "Sample smoked meat at Schwartz's"
        ],
        "nightlife": [
            "Experience Crescent Street bars",
            "Club on Saint-Laurent Boulevard",
            "Jazz clubs in downtown",
            "Plateau Mont-Royal nightlife",
            "Rooftop terrasses (summer)"
        ],
        "outdoor": [
            "Hike/bike Mont Royal",
            "Picnic in Parc La Fontaine",
            "Walk Lachine Canal",
            "Kayak on St. Lawrence River",
            "Visit Botanical Garden"
        ],
        "festivals": [
            "Catch a festival (year-round)",
            "Just for Laughs Comedy Festival (July)",
            "Montreal Jazz Festival (summer)",
            "Osheaga Music Festival (summer)",
            "Igloofest (winter)"
        ]
    },
    
    "quebec city": {
        "history": [
            "Walk the fortification walls",
            "Tour the Citadelle",
            "Explore Place Royale",
            "Visit Parliament Building",
            "Museum of Civilization"
        ],
        "culture": [
            "Admire Château Frontenac",
            "Stroll Petit Champlain",
            "Visit Musée National des Beaux-Arts",
            "See street performers in Old Quebec",
            "Explore Quartier Petit Champlain"
        ],
        "food": [
            "Try traditional Québécois cuisine",
            "Sugar shack experience (spring)",
            "Dine in Old Quebec restaurants",
            "Sample local cheeses",
            "Visit farmers market"
        ],
        "winter": [
            "Experience Winter Carnival (February)",
            "Ice skating at Place D'Youville",
            "Toboggan run at Dufferin Terrace",
            "Ice hotel visit (January-March)",
            "Cross-country skiing on Plains of Abraham"
        ],
        "nature": [
            "Walk the Promenade des Gouverneurs",
            "Visit Montmorency Falls",
            "Explore Plains of Abraham",
            "Île d'Orléans day trip",
            "Canyon Sainte-Anne"
        ]
    },
    
    "banff": {
        "nature": [
            "Visit Lake Louise",
            "See Moraine Lake",
            "Hike Johnston Canyon",
            "Explore Peyto Lake",
            "Wildlife spotting"
        ],
        "outdoor": [
            "Ski at Banff/Lake Louise (winter)",
            "Hike to tea houses",
            "Canoe on Lake Louise",
            "Mountain biking trails",
            "Rock climbing"
        ],
        "relaxation": [
            "Soak in Banff Upper Hot Springs",
            "Spa treatments",
            "Gondola ride for views",
            "Scenic drives",
            "Photography tours"
        ],
        "adventure": [
            "Ice walk (winter)",
            "Backcountry skiing",
            "Helicopter tours",
            "White water rafting (summer)",
            "Via Ferrata climbing"
        ],
        "winter": [
            "World-class skiing/snowboarding",
            "Ice skating on Lake Louise",
            "Snowshoeing",
            "Ice climbing",
            "Dog sledding"
        ]
    },
    
    "victoria": {
        "gardens": [
            "Visit Butchart Gardens",
            "Explore Beacon Hill Park",
            "See Government House Gardens",
            "Walk through Abkhazi Garden",
            "Victoria Butterfly Gardens"
        ],
        "culture": [
            "Tour Royal BC Museum",
            "Visit Parliament Buildings",
            "Explore Craigdarroch Castle",
            "See Emily Carr House",
            "Walk through Chinatown"
        ],
        "food": [
            "Afternoon tea at Empress Hotel",
            "Dine at Inner Harbour",
            "Victoria Public Market",
            "Fisherman's Wharf food stands",
            "Local craft breweries"
        ],
        "nature": [
            "Whale watching tours",
            "Walk the Scenic Marine Drive",
            "Kayak in the harbour",
            "Visit beaches",
            "Hike Goldstream Provincial Park"
        ],
        "relaxation": [
            "Stroll Inner Harbour",
            "Enjoy waterfront parks",
            "Spa experiences",
            "Scenic boat tours",
            "Shopping in downtown"
        ]
    },
    
    "ottawa": {
        "culture": [
            "Tour Parliament Hill",
            "Visit National Gallery of Canada",
            "Explore Canadian Museum of History",
            "See War Museum",
            "ByWard Market"
        ],
        "history": [
            "Watch Changing of the Guard (summer)",
            "Tour Rideau Hall",
            "Visit Canadian Museum of History",
            "Explore Parliament Buildings",
            "Diefenbunker Cold War Museum"
        ],
        "food": [
            "ByWard Market restaurants",
            "Try BeaverTails pastry",
            "Elgin Street dining",
            "Ottawa craft breweries",
            "Food tours"
        ],
        "outdoor": [
            "Bike/walk Rideau Canal",
            "Gatineau Park hiking",
            "Kayak on Ottawa River",
            "Rent bikes on paths",
            "Visit Arboretum"
        ],
        "winter": [
            "Skate on Rideau Canal Skateway",
            "Winterlude Festival (February)",
            "Cross-country ski Gatineau Park",
            "Snowshoeing",
            "Winter festivals"
        ]
    },
    
    "calgary": {
        "culture": [
            "Visit Glenbow Museum",
            "Explore Heritage Park",
            "Tour Calgary Tower",
            "National Music Centre",
            "Inglewood art galleries"
        ],
        "western": [
            "Experience Calgary Stampede (July)",
            "Visit Heritage Park",
            "Try line dancing",
            "Western wear shopping",
            "Rodeo events"
        ],
        "food": [
            "Alberta beef steakhouses",
            "17th Avenue dining",
            "Kensington restaurants",
            "Inglewood cafes",
            "Craft brewery tours"
        ],
        "outdoor": [
            "Fish Creek Provincial Park",
            "Bow River pathway",
            "Nose Hill Park hiking",
            "Canada Olympic Park",
            "Day trip to Rockies"
        ],
        "family": [
            "Calgary Zoo",
            "Telus Spark Science Centre",
            "Calaway Park (summer)",
            "WinSport activities",
            "Heritage Park"
        ]
    },
    
    "niagara falls": {
        "nature": [
            "View Horseshoe Falls",
            "Journey Behind the Falls",
            "Niagara Glen hiking",
            "Butterfly Conservatory",
            "Floral Clock"
        ],
        "adventure": [
            "Hornblower boat cruise",
            "White Water Walk",
            "Zipline to the Falls",
            "Helicopter tours",
            "Whirlpool Aero Car"
        ],
        "romance": [
            "Fallsview dining",
            "Evening Falls illumination",
            "Niagara-on-the-Lake",
            "Wine country tours",
            "Spa experiences"
        ],
        "food": [
            "Niagara wine region tours",
            "Niagara-on-the-Lake dining",
            "Local wineries",
            "Shaw Cafe and Wine Bar",
            "Ice wine tasting"
        ],
        "family": [
            "Clifton Hill attractions",
            "Marineland",
            "Butterfly Conservatory",
            "Bird Kingdom",
            "Niagara Parks attractions"
        ]
    },
    
    "whistler": {
        "skiing": [
            "Ski Whistler Blackcomb",
            "Snowboard lessons",
            "Backcountry skiing",
            "Ski touring",
            "Cat skiing"
        ],
        "outdoor": [
            "Peak 2 Peak Gondola",
            "Mountain biking (summer)",
            "Hiking trails",
            "Ziplining",
            "ATV tours"
        ],
        "adventure": [
            "Bungee jumping",
            "Bobsled ride",
            "Via Ferrata",
            "Rock climbing",
            "Paragliding"
        ],
        "relaxation": [
            "Scandinave Spa",
            "Village shopping",
            "Après-ski lounges",
            "Scenic gondola rides",
            "Fine dining"
        ],
        "summer": [
            "Mountain biking",
            "Hiking alpine trails",
            "Golf courses",
            "Paddleboarding on lakes",
            "Music festivals"
        ]
    }
}

def get_activities_for_destination(destination_name, interests=None, limit=10):
    """
    Get activity suggestions for a destination
    
    Args:
        destination_name: City name (e.g., "toronto", "Vancouver")
        interests: List of interest categories (e.g., ["culture", "food"])
        limit: Maximum number of activities to return
    
    Returns:
        List of activity suggestions
    
    Example:
        activities = get_activities_for_destination("toronto", ["culture", "food"])
        # Returns mix of cultural and food activities
    """
    
    # Normalize destination name
    dest_key = destination_name.lower().strip()
    
    # Find matching activities
    if dest_key not in ACTIVITIES:
        return []
    
    city_activities = ACTIVITIES[dest_key]
    suggestions = []
    
    if interests and len(interests) > 0:
        # Get activities matching user interests
        for interest in interests:
            interest_key = interest.lower()
            if interest_key in city_activities:
                suggestions.extend(city_activities[interest_key])
    else:
        # No specific interests - return a mix
        for category_activities in city_activities.values():
            suggestions.extend(category_activities[:2])  # 2 from each category
    
    # Remove duplicates and limit
    unique_suggestions = list(dict.fromkeys(suggestions))
    return unique_suggestions[:limit]

if __name__ == "__main__":
    """
    Run this to test: python -m app.activities
    """
    
    print("=" * 60)
    print("🎯 ACTIVITIES DATABASE TEST")
    print("=" * 60)
    
    # Test 1: Get activities for Toronto with interests
    print("\n1. Toronto activities for culture + food lovers:")
    activities = get_activities_for_destination("toronto", ["culture", "food"], limit=6)
    for i, activity in enumerate(activities, 1):
        print(f"   {i}. {activity}")
    
    # Test 2: Get activities for Vancouver with nature interest
    print("\n2. Vancouver activities for nature lovers:")
    activities = get_activities_for_destination("vancouver", ["nature"], limit=5)
    for i, activity in enumerate(activities, 1):
        print(f"   {i}. {activity}")
    
    # Test 3: Get general activities (no interests specified)
    print("\n3. General Banff activities:")
    activities = get_activities_for_destination("banff", limit=8)
    for i, activity in enumerate(activities, 1):
        print(f"   {i}. {activity}")
    
    print("\n" + "=" * 60)